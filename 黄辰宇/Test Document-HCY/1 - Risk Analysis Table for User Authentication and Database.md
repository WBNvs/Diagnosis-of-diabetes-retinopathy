| ID No.                      | Quality Risk                                                 | Primary Attribute      | Tech. Risk | Bus. Risk | Risk Pri. # | Extent of Testing | Tracing        | Mitigation Strategy                                          | Test Priority |
| --------------------------- | ------------------------------------------------------------ | ---------------------- | ---------- | --------- | ----------- | ----------------- | -------------- | ------------------------------------------------------------ | ------------- |
| **1.0 User Authentication** |                                                              |                        |            |           |             |                   |                |                                                              |               |
| **Functionality**           |                                                              |                        |            |           |             |                   |                |                                                              |               |
| 1.1.001                     | Failed to verify the legality of role fields (such as non 'patient'/'doctor ') when creating users, resulting in incorrect permission allocation. | Functional Correctness | 3          | 4         | 12          | Broad             | SDS 3.1, 6.4   | Add role enumeration value verification in the backend interface; Set ENOM constraints at the database layer. | Medium        |
| 1.1.002                     | Permission control failure (such as patient access to doctor exclusive interfaces), unauthorized access to sensitive data. | Access Control         | 5          | 5         | 25          | Extensive         | SDS 2.4, 5.1.1 | Implement role-based middleware authentication; Enforce doctor role validation for sensitive interfaces such as GET/app/users/. | High          |
| **Reliability**             |                                                              |                        |            |           |             |                   |                |                                                              |               |
| 1.2.001                     | High concurrency login causes authentication service response timeout (>500ms) or crash. | Reliability            | 4          | 4         | 16          | Extensive         | SDS 2.5.3, 4.1 | Using Redis cache tokens to alleviate database pressure; Load testing simulates 100+concurrent logins. | High          |
| 1.2.002                     | Database connection leak (such as failure to close ORM session), exhausting connection pool resources. | Resource Utilization   | 3          | 3         | 9           | Moderate          | SDS 2.2.4, 6.2 | Using a context manager to automatically release connections; Monitor connection pool usage and set timeout recycling. | Medium        |
| **Security**                |                                                              |                        |            |           |             |                   |                |                                                              |               |
| 1.3.001                     | The weak password strategy leads to account brute force cracking (such as not enforcing password complexity, no login attempt restrictions). | Confidentiality        | 4          | 5         | 20          | Extensive         | SDS 3.1, 5.1.1 | Implement password strength verification (length+special characters); Add a login failure locking mechanism (such as locking for 30 minutes after 5 failures). | High          |
| 1.3.002                     | Token does not have a validity period or expiration mechanism set, resulting in session hijacking risk. | Confidentiality        | 4          | 4         | 16          | Broad             | SDS 3.1, 5.1.1 | Set a short validity period for tokens (such as 30 minutes); Provide an active logout interface to render tokens instantly invalid. | High          |
| **2.0 Database**            |                                                              |                        |            |           |             |                   |                |                                                              |               |
| **Consistency**             |                                                              |                        |            |           |             |                   |                |                                                              |               |
| 2.1.001                     | Transaction control failure: Partial table write failures during user registration (such as User success but Patient failure) result in inconsistent data. | Consistency            | 5          | 5         | 25          | Extensive         | SDS 2.2.4, 6.2 | Enable database transactions for association operations (registration â†’ write user table+patient table); Rollback partially successful operation. | High          |
| 2.1.002                     | Missing foreign key constraints (such as diagnosis reports without associated doctors) result in orphan records. | Consistency            | 4          | 4         | 16          | Broad             | SDS 6.4        | Database design enforces foreign key constraints (ON DELETE CASCADE); Verify the existence of association IDs at the application layer. | High          |
| **Performance**             |                                                              |                        |            |           |             |                   |                |                                                              |               |
| 2.2.001                     | Failure to index high-frequency query fields (such as sorting reports by diagnos_time) results in slow queries (>100ms). | Time Behavior          | 4          | 3         | 12          | Broad             | SDS 6.2, 6.4   | Add indexes to fields such as diagnos_time and user_id; Use EXPLAIN to analyze query plans. | Medium        |
| 2.2.002                     | Improper connection pool configuration can lead to database connection exhaustion during high concurrency (such as low default connection count). | Resource Utilization   | 4          | 4         | 16          | Extensive         | SDS 2.2.4, 6.2 | Adjust the connection pool size based on server resources (such as 50-100); Monitoring connection waiting timeout event. | High          |
| **Maintainability**         |                                                              |                        |            |           |             |                   |                |                                                              |               |
| 2.3.001                     | Backup mechanism failure: Failure to regularly backup or damaged backup files, unable to recover data in case of failure. | Recoverability         | 5          | 5         | 25          | Extensive         | SDS 2.2.4, 6.2 | Daily automatic full backup+incremental backup; Regularly verify the recoverability of backup files. | High          |
| 2.3.002                     | Sensitive data that has not been desensitized (such as passwords recorded in plaintext in logs) violates privacy compliance. | Confidentiality        | 4          | 5         | 20          | Broad             | SDS 5.1.1, 6.1 | Filtering sensitive fields in application layer logs; Database field encryption (such as AES-256). | High          |
